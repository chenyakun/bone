<script src="../bower_components/jquery/dist/jquery.min.js"></script>
<script src="../bower_components/velocity/velocity.min.js"></script>
<script src="../bower_components/velocity/velocity.ui.min.js"></script>
<style>
    .mod-one {
        border: 1px solid;
        position: relative;
    }
</style>
<div class="mod-one">

</div>
<!-- /.mod-one -->
<script>
    $element = $('.mod-one');
</script>


<script>

//    $.Velocity.mock = 1;

        // Velocity takes a map of CSS properties
        // and values as its first argument.
        // An options object can optionally be passed in as a second argument:-

        //  1. ?????????? css ????,
        //  2. ??????????? velocity ????

    $element.velocity({
        width: "300px",
        height: "100px",
        border: "1px solid"
    }, {
        /* Velocity's default options */
        duration: 400,
        easing: "swing",
        queue: "",
        begin: undefined,
        progress: undefined,
        complete: undefined,
        display: undefined,
        visibility: undefined,
        loop: false,
        delay: false,
        mobileHA: true
    });


    /**
     *  single param
     */
        // Velocity also supports a single-argument syntax.
        // Simply pass in a single object with
        // properties (or p) and options (or o) members:

        // ???????????, ??

        //    $element.velocity({
        //        properties: {opacity: 1},
        //        options: {duration: 500}
        //    });

        // ??????

    $element.velocity({
        p: {opacity: 1},
        o: {duration: 500}
    });


    /**
     *  ??????????
     */

        // ??????Щ, velocity ?????? jquery ??????????????????
        // ?????????
        // but only for the
        // duration, easing, and complete properties:
        // $element.velocity(propertyMap [, duration] [, easing] [, complete]).

    $element.velocity({top: 50}, 100);
    $element.velocity({top: 50}, 100, "swing");
    $element.velocity({top: 50}, "swing");
    $element.velocity({top: 50}, 100, function callback() {
        // do something
    });


    /**
     * 2. ???? map
     */
        // ?????????????, ???????????????
        // { paddingLeft: 1} ?? But you cannot pass in { padding: "1 1 1 1" }

        // ??λ: Velocity supports the px, em, rem, %, deg, and vw/vh units.

    $element.velocity({
        top: 20, // Defaults to the px unit type
        left: "50%",
        width: "+=5rem", // Add 5rem to the current rem value
        height: "*=2" // Double the current height
    });


    /**
     * ??????, ??????????????,
     * ????????????????? velocity ?????, ?????????, ??????????????
     *
     * When multiple Velocity calls are stacked onto an element
     * (or a series of elements),
     * they automatically queue onto one another ??
     * with each one firing once its prior animation has completed:
     */


    $element
        /* Animate the width property. */
            .velocity({width: 75})
        /* Then, when finished, animate the height property. */
            .velocity({height: 0});


    // durations ??????
    $element.velocity({width: "*=2", height: 100}, {duration: 1000});

    /**
     *  css ??????: http://julian.com/research/velocity/#cssSupport
     */

    /* Use one of the jQuery UI easings. */
    $element.velocity({width: 50}, "easeInSine");

    /* Use a custom bezier curve. */
    $element.velocity({width: 100}, [0.17, 0.67, 0.83, 0.67]);

    /* Use spring physics. */
    /**
     * Spring physics:
     * Pass a two-item array in the form of [ tension, friction ].
     * tension: ???,????, A higher tension (default: 500) increases total speed and bounciness.
     * friction: ??????????, ?????????????????? A lower friction (default: 20) increases ending vibration speed.
     */
    $element.velocity({width: 250, height: 300}, [800, 10]);


    /**
     * Per-Property Easing
     */
    $element.velocity({
        borderBottomWidth: ["20px", "spring"], // Uses "spring"
        width: ["100px", [250, 15]], // Uses custom spring physics
        height: "100px" // Defaults to easeInSine, the call's default easing
    }, {
        easing: "easeInSine" // Default easing
    });


    $element.velocity({
        opacity: 0
    }, {
        /* Log all the animated divs. */
        begin: function (elements) {
            console.log('begin', elements);
        },
        complete: function (elements) {
            console.log('complete', elements);
        }
    });


    $element.velocity({
        opacity: 1,
        borderBottomWidth: 1,
        tween: 1000 // Optional
    }, {
        /**
         * @param elements
         * @param complete   The call's completion percentage (as a decimal value).
         * @param remaining  How much time remains until the call completes (in ms).
         * @param start      The absolute time at which the call began (in Unix time).
         * @param tweenValue The current value of the dummy tween animation property
         */
        progress: function (elements, complete, remaining, start, tweenValue) {
            console.log((complete * 100) + "%");
            console.log(remaining + "ms remaining!");
            console.log("The current tween value is " + tweenValue)
        }
    });

    /**
     * Loop
     */
    $element.velocity(
            {
                scale: 1.5
            },
            {
                // Loop one time
                // (animate scale to 1.5 then back to its original value).
                loop: 2,

                duration: 500,

                // Specify the delay option in milliseconds
                // to insert a pause before an animation begins.
                delay: 1000
            });


    /**
     * stop
     * To immediately stop all current Velocity calls (including parallel animations called via queue: false) on an element, pass in "stop" as Velocity's first argument.
     * The next Velocity call in the element's animation queue immediately starts.
     */
    $element
        // .velocity("stop")
        /* Animate opacity back to 1. */
            .velocity("reverse");


    /**
     * http://julian.com/research/velocity/#beginAndComplete
     * hook, ??????????? $.css() ?????,??????????? dom ???,
     * ??????????????????????
     */
//    $.Velocity.hook($element, "translateX", "-500px"); // Must provide unit type
    $.Velocity.hook($element, "textShadowBlur", "10px"); // Must provide unit type


    /**
     * promise
     */

    $.Velocity.animate($element, {opacity: 0.5})
            .then(function (elements) {
                console.log("Resolved.");
            })
            .catch(function (error) {
                console.log("Rejected.");
            });


</script>